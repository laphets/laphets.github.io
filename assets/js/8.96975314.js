(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{213:function(t,e,s){var n={"./af":42,"./af.js":42,"./ar":43,"./ar-dz":44,"./ar-dz.js":44,"./ar-kw":45,"./ar-kw.js":45,"./ar-ly":46,"./ar-ly.js":46,"./ar-ma":47,"./ar-ma.js":47,"./ar-sa":48,"./ar-sa.js":48,"./ar-tn":49,"./ar-tn.js":49,"./ar.js":43,"./az":50,"./az.js":50,"./be":51,"./be.js":51,"./bg":52,"./bg.js":52,"./bm":53,"./bm.js":53,"./bn":54,"./bn.js":54,"./bo":55,"./bo.js":55,"./br":56,"./br.js":56,"./bs":57,"./bs.js":57,"./ca":58,"./ca.js":58,"./cs":59,"./cs.js":59,"./cv":60,"./cv.js":60,"./cy":61,"./cy.js":61,"./da":62,"./da.js":62,"./de":63,"./de-at":64,"./de-at.js":64,"./de-ch":65,"./de-ch.js":65,"./de.js":63,"./dv":66,"./dv.js":66,"./el":67,"./el.js":67,"./en-SG":68,"./en-SG.js":68,"./en-au":69,"./en-au.js":69,"./en-ca":70,"./en-ca.js":70,"./en-gb":71,"./en-gb.js":71,"./en-ie":72,"./en-ie.js":72,"./en-il":73,"./en-il.js":73,"./en-nz":74,"./en-nz.js":74,"./eo":75,"./eo.js":75,"./es":76,"./es-do":77,"./es-do.js":77,"./es-us":78,"./es-us.js":78,"./es.js":76,"./et":79,"./et.js":79,"./eu":80,"./eu.js":80,"./fa":81,"./fa.js":81,"./fi":82,"./fi.js":82,"./fo":83,"./fo.js":83,"./fr":84,"./fr-ca":85,"./fr-ca.js":85,"./fr-ch":86,"./fr-ch.js":86,"./fr.js":84,"./fy":87,"./fy.js":87,"./ga":88,"./ga.js":88,"./gd":89,"./gd.js":89,"./gl":90,"./gl.js":90,"./gom-latn":91,"./gom-latn.js":91,"./gu":92,"./gu.js":92,"./he":93,"./he.js":93,"./hi":94,"./hi.js":94,"./hr":95,"./hr.js":95,"./hu":96,"./hu.js":96,"./hy-am":97,"./hy-am.js":97,"./id":98,"./id.js":98,"./is":99,"./is.js":99,"./it":100,"./it-ch":101,"./it-ch.js":101,"./it.js":100,"./ja":102,"./ja.js":102,"./jv":103,"./jv.js":103,"./ka":104,"./ka.js":104,"./kk":105,"./kk.js":105,"./km":106,"./km.js":106,"./kn":107,"./kn.js":107,"./ko":108,"./ko.js":108,"./ku":109,"./ku.js":109,"./ky":110,"./ky.js":110,"./lb":111,"./lb.js":111,"./lo":112,"./lo.js":112,"./lt":113,"./lt.js":113,"./lv":114,"./lv.js":114,"./me":115,"./me.js":115,"./mi":116,"./mi.js":116,"./mk":117,"./mk.js":117,"./ml":118,"./ml.js":118,"./mn":119,"./mn.js":119,"./mr":120,"./mr.js":120,"./ms":121,"./ms-my":122,"./ms-my.js":122,"./ms.js":121,"./mt":123,"./mt.js":123,"./my":124,"./my.js":124,"./nb":125,"./nb.js":125,"./ne":126,"./ne.js":126,"./nl":127,"./nl-be":128,"./nl-be.js":128,"./nl.js":127,"./nn":129,"./nn.js":129,"./pa-in":130,"./pa-in.js":130,"./pl":131,"./pl.js":131,"./pt":132,"./pt-br":133,"./pt-br.js":133,"./pt.js":132,"./ro":134,"./ro.js":134,"./ru":135,"./ru.js":135,"./sd":136,"./sd.js":136,"./se":137,"./se.js":137,"./si":138,"./si.js":138,"./sk":139,"./sk.js":139,"./sl":140,"./sl.js":140,"./sq":141,"./sq.js":141,"./sr":142,"./sr-cyrl":143,"./sr-cyrl.js":143,"./sr.js":142,"./ss":144,"./ss.js":144,"./sv":145,"./sv.js":145,"./sw":146,"./sw.js":146,"./ta":147,"./ta.js":147,"./te":148,"./te.js":148,"./tet":149,"./tet.js":149,"./tg":150,"./tg.js":150,"./th":151,"./th.js":151,"./tl-ph":152,"./tl-ph.js":152,"./tlh":153,"./tlh.js":153,"./tr":154,"./tr.js":154,"./tzl":155,"./tzl.js":155,"./tzm":156,"./tzm-latn":157,"./tzm-latn.js":157,"./tzm.js":156,"./ug-cn":158,"./ug-cn.js":158,"./uk":159,"./uk.js":159,"./ur":160,"./ur.js":160,"./uz":161,"./uz-latn":162,"./uz-latn.js":162,"./uz.js":161,"./vi":163,"./vi.js":163,"./x-pseudo":164,"./x-pseudo.js":164,"./yo":165,"./yo.js":165,"./zh-cn":166,"./zh-cn.js":166,"./zh-hk":167,"./zh-hk.js":167,"./zh-tw":168,"./zh-tw.js":168};function i(t){var e=r(t);return s(e)}function r(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id=213},215:function(t,e,s){},361:function(t,e,s){"use strict";var n=s(215);s.n(n).a},389:function(t,e,s){"use strict";s.r(e);var n=s(387),i=(s(273),s(278)),r=s.n(i),o=(s(280),s(207)),a=s.n(o),c=(s(293),s(295),s(237),s(238),s(239)),l=s(298),u=s(12),d=s.n(u),m={components:{mavonEditor:l.mavonEditor},data:function(){return{import:{COS:null,Octokit:null,moment:null},cos:null,octokit:null,owner:"laphets",repo:"laphets.github.io",file_list:[],current_file:"",content:"",access_token:null,user:null,current_selected_idx:-1,operation_selected_idx:-1,current_file_path:"",redirect_url:"",item:1,dialog:!1,dialog_loading:!1,drawer:null,dialog_form:{title:"",categories:"",tags:"",file_name:"",comments:!1},items:[{text:"Real-Time",icon:"mdi-clock"},{text:"Audience",icon:"mdi-account"},{text:"Conversions",icon:"mdi-flag"}]}},mounted:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.import.Octokit=s(300),this.import.COS=s(348),this.import.moment=s(12),"localhost"==window.location.hostname?this.redirect_url="https://github.com/login/oauth/authorize?client_id=d4ddef2f916b410ba5c5&redirect_uri=http://localhost:8080/oauth/&scope=user repo gist":this.redirect_url="https://github.com/login/oauth/authorize?client_id=e1e6602503dc4c81f625&redirect_uri=https://blog.laphets.com/oauth/&scope=user repo gist",this.access_token=window.localStorage.getItem("access_token"),this.access_token){t.next=8;break}return window.location=this.redirect_url,t.abrupt("return");case 8:return this.octokit=new this.import.Octokit({auth:this.access_token}),t.prev=9,t.next=12,this.octokit.users.getAuthenticated();case 12:if(this.user=t.sent.data,"laphets"==this.user.login){t.next=15;break}throw"User Not Admin";case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(9),window.location=this.redirect_url,t.abrupt("return");case 21:return t.next=23,this.loadFileList();case 23:return t.next=25,this.initCOS();case 25:case"end":return t.stop()}},t,this,[[9,17]])}));return function(){return t.apply(this,arguments)}}(),methods:{initCOS:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,this.octokit.gists.get({gist_id:"951130eccf85e828b5fd48f42645f088"});case 3:t.t1=t.sent.data.files["COS.json"].content,e=t.t0.parse.call(t.t0,t.t1),this.cos=new this.import.COS({SecretId:e.SecretId,SecretKey:e.SecretKey});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadFileList:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.octokit.repos.getContents({owner:this.owner,repo:this.repo,path:"docs"});case 2:this.file_list=t.sent.data;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},uploadImgCOS:function(t){var e=this;return new a.a(function(s,n){e.cos.putObject({Bucket:"audio-1257009668",Region:"ap-shanghai",Key:"blog/".concat(t.name,"-").concat(e.uuidv4()),StorageClass:"STANDARD",Body:t,onProgress:function(t){console.log(r()(t))}},function(t,e){s(t||e)})})},uploadImg:function(t){return new a.a(function(e,s){var n=new FormData;n.append("smfile",t);var i=new XMLHttpRequest;i.open("POST","https://cors-anywhere.herokuapp.com/https://sm.ms/api/v2/upload",!0),i.addEventListener("readystatechange",function(){4===this.readyState&&e(this.responseText)}),i.send(n)})},imgAdd:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e,s){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,s),t.t0="https://",t.next=4,this.uploadImgCOS(s);case 4:t.t1=t.sent.Location,n=t.t0.concat.call(t.t0,t.t1),console.log(n),this.$refs.md.$img2Url(e,n);case 8:case"end":return t.stop()}},t,this)}));return function(e,s){return t.apply(this,arguments)}}(),createFile:function(){this.dialog=!1,console.log(this.dialog_form);var t=0;this.file_list.map(function(e){"file"==e.type&&t++});var e=""==this.dialog_form.file_name?this.dialog_form.title:this.dialog_form.file_name;this.file_list=[{name:"".concat(e,".md"),path:"docs/".concat(e,".md"),sha:"",type:"file"}].concat(Object(n.a)(this.file_list)),this.current_file=this.file_list[0],this.current_selected_idx=t,this.operation_selected_idx=-1,this.content="---\ntitle: ".concat(this.dialog_form.title," \ndate: ").concat(d()().format("YYYY-MM-DD HH:mm:ss"),"\ncomments: ").concat(this.dialog_form.comments.toString(),"\ntags: ").concat(this.dialog_form.tags,"\ncategories: ").concat(this.dialog_form.categories,"\n---\n\n"),console.log(this.file_list)},loadFile:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),this.current_file_path=e,t.next=4,this.octokit.repos.getContents({owner:this.owner,repo:this.repo,path:e});case 4:this.current_file=t.sent.data,console.log(this.current_file),this.content=this.base64Decode(this.current_file.content);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateFile:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dialog_loading=!0,console.log(this.content),t.t0=console,t.next=5,this.octokit.repos.createOrUpdateFile({owner:this.owner,repo:this.repo,path:this.current_file.path,sha:this.current_file.sha,message:"Update ".concat(this.current_file.type," ").concat(this.current_file.path),content:this.base64Encode(this.content)});case 5:return t.t1=t.sent,t.t0.log.call(t.t0,t.t1),t.next=9,this.loadFileList();case 9:return t.next=11,this.loadFile(this.current_file.path);case 11:this.dialog_loading=!1;case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mdSave:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.updateFile();case 1:case"end":return t.stop()}},t,this)}));return function(e,s){return t.apply(this,arguments)}}(),base64Decode:function(t){return decodeURIComponent(escape(window.atob(t)))},base64Encode:function(t){return btoa(unescape(encodeURIComponent(t)))}}},h=(s(361),s(1)),p=Object(h.a)(m,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",{attrs:{dense:""}},[s("v-list-item",{attrs:{link:""}},[s("v-list-item-action",[s("v-icon",[t._v("mdi-home")])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v("Home")])],1)],1),t._v(" "),s("v-list-item",{attrs:{link:""}},[s("v-list-item-action",[s("v-icon",[t._v("mdi-contact-mail")])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v("Contact")])],1)],1)],1)],1),t._v(" "),s("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[s("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),s("v-toolbar-title",[t._v("Console")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("mdi-apps")])],1),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("mdi-bell")])],1),t._v(" "),s("v-btn",{attrs:{icon:"",large:""}},[t.user?s("v-avatar",{attrs:{size:"32px",item:""}},[s("v-img",{attrs:{src:t.user.avatar_url}})],1):t._e()],1)],1),t._v(" "),s("v-content",[s("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[s("div",{staticClass:"editor-container"},[s("v-card",{staticClass:"mx-auto",staticStyle:{"margin-right":"10px !important",width:"256px !important"},attrs:{width:"256",tile:""}},[s("v-list",{staticStyle:{"max-height":"100%",overflow:"scroll"},attrs:{rounded:"",dense:""}},[s("v-subheader",[t._v("Operations")]),t._v(" "),s("v-list-item-group",{attrs:{color:"#2d68ba"},model:{value:t.operation_selected_idx,callback:function(e){t.operation_selected_idx=e},expression:"operation_selected_idx"}},[s("v-list-item",{on:{click:function(e){t.dialog=!0}}},[s("v-list-item-icon",[s("v-icon",{domProps:{textContent:t._s("mdi-plus")}})],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s("Create")}})],1)],1)],1),t._v(" "),s("v-divider",{staticStyle:{"margin-top":"10px"}}),t._v(" "),s("v-subheader",[t._v("Files")]),t._v(" "),s("v-list-item-group",{attrs:{color:"#2d68ba"},model:{value:t.current_selected_idx,callback:function(e){t.current_selected_idx=e},expression:"current_selected_idx"}},t._l(t.file_list,function(e,n){return"file"==e.type?s("v-list-item",{key:e.name,on:{click:function(s){return t.loadFile(e.path)}}},[s("v-list-item-icon",[s("v-icon",{domProps:{textContent:t._s("mdi-file")}})],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1):t._e()}),1)],1)],1),t._v(" "),s("div",{attrs:{id:"editor"}},[s("ClientOnly",[s("mavon-editor",{ref:"md",staticStyle:{height:"100%"},attrs:{language:"en"},on:{save:t.mdSave,imgAdd:t.imgAdd},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1)])],1),t._v(" "),s("v-footer",{attrs:{color:"indigo",app:""}},[s("span",{staticClass:"white--text"},[t._v("\n        Copyright © 2015-"+t._s((new Date).getFullYear())+"  "),s("strong",[t._v("Laphets")]),t._v(". All Rights Reserved.\n\n\n      ")])]),t._v(" "),s("div",[s("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Create New Post")])]),t._v(" "),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Title",hint:"title of the post",required:""},model:{value:t.dialog_form.title,callback:function(e){t.$set(t.dialog_form,"title",e)},expression:"dialog_form.title"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"File Name",hint:"file name of the post",required:""},model:{value:t.dialog_form.file_name,callback:function(e){t.$set(t.dialog_form,"file_name",e)},expression:"dialog_form.file_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-text-field",{attrs:{label:"Tags",hint:"tags of the post",required:""},model:{value:t.dialog_form.tags,callback:function(e){t.$set(t.dialog_form,"tags",e)},expression:"dialog_form.tags"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-text-field",{attrs:{label:"Categories",hint:"categories of the post",required:""},model:{value:t.dialog_form.categories,callback:function(e){t.$set(t.dialog_form,"categories",e)},expression:"dialog_form.categories"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-switch",{attrs:{label:"Enable Comments: "+t.dialog_form.comments.toString()},model:{value:t.dialog_form.comments,callback:function(e){t.$set(t.dialog_form,"comments",e)},expression:"dialog_form.comments"}})],1)],1)],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"success",text:""},on:{click:function(e){return t.createFile()}}},[t._v("Create")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialog_loading,callback:function(e){t.dialog_loading=e},expression:"dialog_loading"}},[s("v-card",{attrs:{color:"#4054af",dark:""}},[s("v-card-text",[t._v("\n          Please stand by\n          "),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)},[],!1,null,"e5882382",null);e.default=p.exports}}]);