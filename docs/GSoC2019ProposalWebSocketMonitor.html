<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_2zq1lyrqpejn-1{list-style-type:none}.lst-kix_4pmmh3coxpv3-2>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-2,lower-roman) ". "}ul.lst-kix_2zq1lyrqpejn-0{list-style-type:none}ul.lst-kix_2zq1lyrqpejn-3{list-style-type:none}ul.lst-kix_tppk9gsabc8x-0{list-style-type:none}ul.lst-kix_2zq1lyrqpejn-2{list-style-type:none}ul.lst-kix_tppk9gsabc8x-2{list-style-type:none}ul.lst-kix_tppk9gsabc8x-1{list-style-type:none}ul.lst-kix_tppk9gsabc8x-4{list-style-type:none}.lst-kix_4pmmh3coxpv3-3>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-3,decimal) ". "}ul.lst-kix_tppk9gsabc8x-3{list-style-type:none}ul.lst-kix_tppk9gsabc8x-6{list-style-type:none}ul.lst-kix_tppk9gsabc8x-5{list-style-type:none}.lst-kix_4pmmh3coxpv3-7>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-7}ul.lst-kix_tppk9gsabc8x-8{list-style-type:none}ul.lst-kix_tppk9gsabc8x-7{list-style-type:none}.lst-kix_4pmmh3coxpv3-0>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-0,decimal) ". "}.lst-kix_4pmmh3coxpv3-8>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-8,lower-roman) ". "}.lst-kix_4pmmh3coxpv3-1>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-1,lower-latin) ". "}ul.lst-kix_k1xfgv377ff7-8{list-style-type:none}ul.lst-kix_k1xfgv377ff7-6{list-style-type:none}ul.lst-kix_k1xfgv377ff7-7{list-style-type:none}ul.lst-kix_k1xfgv377ff7-4{list-style-type:none}ul.lst-kix_k1xfgv377ff7-5{list-style-type:none}ul.lst-kix_k1xfgv377ff7-2{list-style-type:none}ul.lst-kix_k1xfgv377ff7-3{list-style-type:none}ul.lst-kix_k1xfgv377ff7-0{list-style-type:none}ul.lst-kix_2zq1lyrqpejn-8{list-style-type:none}ul.lst-kix_k1xfgv377ff7-1{list-style-type:none}ol.lst-kix_4pmmh3coxpv3-1.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-1 0}ul.lst-kix_2zq1lyrqpejn-5{list-style-type:none}ul.lst-kix_2zq1lyrqpejn-4{list-style-type:none}ul.lst-kix_2zq1lyrqpejn-7{list-style-type:none}ul.lst-kix_2zq1lyrqpejn-6{list-style-type:none}.lst-kix_4pmmh3coxpv3-8>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-8}ul.lst-kix_8x2c3ym1uq0t-7{list-style-type:none}ul.lst-kix_8x2c3ym1uq0t-6{list-style-type:none}.lst-kix_4pmmh3coxpv3-5>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-5}ul.lst-kix_8x2c3ym1uq0t-8{list-style-type:none}ul.lst-kix_apt17kcnc2em-4{list-style-type:none}ol.lst-kix_4pmmh3coxpv3-3.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-3 0}ul.lst-kix_apt17kcnc2em-3{list-style-type:none}ul.lst-kix_apt17kcnc2em-6{list-style-type:none}.lst-kix_apt17kcnc2em-0>li:before{content:"\0025cf  "}.lst-kix_apt17kcnc2em-2>li:before{content:"\0025a0  "}ul.lst-kix_apt17kcnc2em-5{list-style-type:none}ul.lst-kix_apt17kcnc2em-0{list-style-type:none}ul.lst-kix_apt17kcnc2em-2{list-style-type:none}.lst-kix_i27pxxsoyap5-0>li:before{content:"\0025cf  "}.lst-kix_apt17kcnc2em-1>li:before{content:"\0025cb  "}ul.lst-kix_apt17kcnc2em-1{list-style-type:none}ul.lst-kix_8x2c3ym1uq0t-3{list-style-type:none}ul.lst-kix_8x2c3ym1uq0t-2{list-style-type:none}.lst-kix_4pmmh3coxpv3-4>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-4}ul.lst-kix_8x2c3ym1uq0t-5{list-style-type:none}ul.lst-kix_8x2c3ym1uq0t-4{list-style-type:none}.lst-kix_apt17kcnc2em-4>li:before{content:"\0025cb  "}ul.lst-kix_apt17kcnc2em-8{list-style-type:none}.lst-kix_i27pxxsoyap5-5>li:before{content:"\0025a0  "}ul.lst-kix_apt17kcnc2em-7{list-style-type:none}ul.lst-kix_8x2c3ym1uq0t-1{list-style-type:none}.lst-kix_i27pxxsoyap5-6>li:before{content:"\0025cf  "}ul.lst-kix_8x2c3ym1uq0t-0{list-style-type:none}.lst-kix_apt17kcnc2em-3>li:before{content:"\0025cf  "}.lst-kix_i27pxxsoyap5-7>li:before{content:"\0025cb  "}.lst-kix_i27pxxsoyap5-8>li:before{content:"\0025a0  "}.lst-kix_98u3arqtu2p7-0>li:before{content:"\0025cf  "}.lst-kix_tppk9gsabc8x-1>li:before{content:"\0025cb  "}.lst-kix_tppk9gsabc8x-2>li:before{content:"\0025a0  "}.lst-kix_tppk9gsabc8x-0>li:before{content:"\0025cf  "}.lst-kix_tppk9gsabc8x-4>li:before{content:"\0025cb  "}ol.lst-kix_4pmmh3coxpv3-4.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-4 0}.lst-kix_98u3arqtu2p7-3>li:before{content:"\0025cf  "}.lst-kix_tppk9gsabc8x-3>li:before{content:"\0025cf  "}.lst-kix_98u3arqtu2p7-2>li:before{content:"\0025a0  "}.lst-kix_98u3arqtu2p7-1>li:before{content:"\0025cb  "}.lst-kix_98u3arqtu2p7-8>li:before{content:"\0025a0  "}.lst-kix_tppk9gsabc8x-8>li:before{content:"\0025a0  "}.lst-kix_4pmmh3coxpv3-1>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-1}.lst-kix_4pmmh3coxpv3-7>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-7,lower-latin) ". "}.lst-kix_98u3arqtu2p7-7>li:before{content:"\0025cb  "}.lst-kix_i27pxxsoyap5-4>li:before{content:"\0025cb  "}.lst-kix_tppk9gsabc8x-5>li:before{content:"\0025a0  "}.lst-kix_4pmmh3coxpv3-6>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-6,decimal) ". "}.lst-kix_98u3arqtu2p7-4>li:before{content:"\0025cb  "}.lst-kix_i27pxxsoyap5-3>li:before{content:"\0025cf  "}.lst-kix_tppk9gsabc8x-7>li:before{content:"\0025cb  "}.lst-kix_4pmmh3coxpv3-4>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-4,lower-latin) ". "}.lst-kix_98u3arqtu2p7-6>li:before{content:"\0025cf  "}.lst-kix_i27pxxsoyap5-1>li:before{content:"\0025cb  "}.lst-kix_tppk9gsabc8x-6>li:before{content:"\0025cf  "}.lst-kix_4pmmh3coxpv3-5>li:before{content:"" counter(lst-ctn-kix_4pmmh3coxpv3-5,lower-roman) ". "}.lst-kix_98u3arqtu2p7-5>li:before{content:"\0025a0  "}.lst-kix_i27pxxsoyap5-2>li:before{content:"\0025a0  "}.lst-kix_8x2c3ym1uq0t-0>li:before{content:"\0025cf  "}.lst-kix_8x2c3ym1uq0t-1>li:before{content:"\0025cb  "}ol.lst-kix_4pmmh3coxpv3-8.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-8 0}.lst-kix_8x2c3ym1uq0t-5>li:before{content:"\0025a0  "}.lst-kix_8x2c3ym1uq0t-6>li:before{content:"\0025cf  "}.lst-kix_8x2c3ym1uq0t-7>li:before{content:"\0025cb  "}.lst-kix_8x2c3ym1uq0t-4>li:before{content:"\0025cb  "}.lst-kix_8x2c3ym1uq0t-2>li:before{content:"\0025a0  "}.lst-kix_8x2c3ym1uq0t-3>li:before{content:"\0025cf  "}.lst-kix_4pmmh3coxpv3-0>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-0}ol.lst-kix_4pmmh3coxpv3-2.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-2 0}ul.lst-kix_98u3arqtu2p7-8{list-style-type:none}.lst-kix_8x2c3ym1uq0t-8>li:before{content:"\0025a0  "}.lst-kix_apt17kcnc2em-8>li:before{content:"\0025a0  "}.lst-kix_4pmmh3coxpv3-2>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-2}ul.lst-kix_98u3arqtu2p7-4{list-style-type:none}ul.lst-kix_98u3arqtu2p7-5{list-style-type:none}ul.lst-kix_98u3arqtu2p7-6{list-style-type:none}.lst-kix_apt17kcnc2em-5>li:before{content:"\0025a0  "}ul.lst-kix_98u3arqtu2p7-7{list-style-type:none}ul.lst-kix_98u3arqtu2p7-0{list-style-type:none}ul.lst-kix_98u3arqtu2p7-1{list-style-type:none}ul.lst-kix_98u3arqtu2p7-2{list-style-type:none}.lst-kix_apt17kcnc2em-6>li:before{content:"\0025cf  "}ul.lst-kix_98u3arqtu2p7-3{list-style-type:none}.lst-kix_apt17kcnc2em-7>li:before{content:"\0025cb  "}ol.lst-kix_4pmmh3coxpv3-5.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-5 0}ul.lst-kix_i27pxxsoyap5-0{list-style-type:none}ul.lst-kix_i27pxxsoyap5-1{list-style-type:none}ul.lst-kix_i27pxxsoyap5-2{list-style-type:none}ul.lst-kix_i27pxxsoyap5-3{list-style-type:none}ul.lst-kix_i27pxxsoyap5-4{list-style-type:none}ul.lst-kix_i27pxxsoyap5-5{list-style-type:none}.lst-kix_2zq1lyrqpejn-3>li:before{content:"\0025cf  "}.lst-kix_2zq1lyrqpejn-4>li:before{content:"\0025cb  "}ol.lst-kix_4pmmh3coxpv3-6.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-6 0}.lst-kix_2zq1lyrqpejn-6>li:before{content:"\0025cf  "}.lst-kix_2zq1lyrqpejn-5>li:before{content:"\0025a0  "}.lst-kix_2zq1lyrqpejn-8>li:before{content:"\0025a0  "}ul.lst-kix_i27pxxsoyap5-6{list-style-type:none}ul.lst-kix_i27pxxsoyap5-7{list-style-type:none}ul.lst-kix_i27pxxsoyap5-8{list-style-type:none}.lst-kix_2zq1lyrqpejn-7>li:before{content:"\0025cb  "}ol.lst-kix_4pmmh3coxpv3-7{list-style-type:none}.lst-kix_4pmmh3coxpv3-3>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-3}ol.lst-kix_4pmmh3coxpv3-8{list-style-type:none}.lst-kix_4pmmh3coxpv3-6>li{counter-increment:lst-ctn-kix_4pmmh3coxpv3-6}.lst-kix_k1xfgv377ff7-8>li:before{content:"\00274f  "}ol.lst-kix_4pmmh3coxpv3-0{list-style-type:none}ol.lst-kix_4pmmh3coxpv3-1{list-style-type:none}.lst-kix_k1xfgv377ff7-7>li:before{content:"\00274f  "}ol.lst-kix_4pmmh3coxpv3-2{list-style-type:none}ol.lst-kix_4pmmh3coxpv3-3{list-style-type:none}ol.lst-kix_4pmmh3coxpv3-4{list-style-type:none}ol.lst-kix_4pmmh3coxpv3-7.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-7 0}ol.lst-kix_4pmmh3coxpv3-5{list-style-type:none}.lst-kix_k1xfgv377ff7-6>li:before{content:"\00274f  "}ol.lst-kix_4pmmh3coxpv3-6{list-style-type:none}.lst-kix_k1xfgv377ff7-3>li:before{content:"\00274f  "}.lst-kix_k1xfgv377ff7-5>li:before{content:"\00274f  "}ol.lst-kix_4pmmh3coxpv3-0.start{counter-reset:lst-ctn-kix_4pmmh3coxpv3-0 0}.lst-kix_2zq1lyrqpejn-2>li:before{content:"\0025a0  "}.lst-kix_2zq1lyrqpejn-1>li:before{content:"\0025cb  "}.lst-kix_k1xfgv377ff7-0>li:before{content:"\00274f  "}.lst-kix_k1xfgv377ff7-4>li:before{content:"\00274f  "}.lst-kix_2zq1lyrqpejn-0>li:before{content:"\0025cf  "}.lst-kix_k1xfgv377ff7-1>li:before{content:"\00274f  "}.lst-kix_k1xfgv377ff7-2>li:before{content:"\00274f  "}ol{margin:0;padding:0}table td,table th{padding:0}.c1{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:207pt;border-top-color:#000000;border-bottom-style:solid}.c8{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:227.2pt;border-top-color:#000000;border-bottom-style:solid}.c17{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:136.5pt;border-top-color:#000000;border-bottom-style:solid}.c48{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:94.5pt;border-top-color:#000000;border-bottom-style:solid}.c38{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:124.5pt;border-top-color:#000000;border-bottom-style:solid}.c13{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:137.2pt;border-top-color:#000000;border-bottom-style:solid}.c53{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:94.5pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:296.6pt;border-top-color:#000000;border-bottom-style:solid}.c6{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:121.5pt;border-top-color:#000000;border-bottom-style:solid}.c50{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:76.5pt;border-top-color:#000000;border-bottom-style:solid}.c18{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:76.5pt;border-top-color:#000000;border-bottom-style:solid}.c29{background-color:#ffffff;color:#252525;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c7{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c52{margin-left:18pt;padding-top:0pt;text-indent:-18pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:justify}.c19{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:8pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c27{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c49{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c33{padding-top:14pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c14{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c10{padding-top:12pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c11{color:#999999;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Georgia";font-style:normal}.c37{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c28{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c30{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c47{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c34{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c25{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c43{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c45{padding-top:0pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:left}.c46{background-color:#ffffff;-webkit-text-decoration-skip:none;color:#00539f;text-decoration:underline;text-decoration-skip-ink:none;font-size:9pt}.c21{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.2;text-align:left}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c41{border-spacing:0;border-collapse:collapse;margin-right:auto}.c44{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c35{font-size:10pt;font-family:"Georgia";font-weight:400}.c26{font-size:10pt;font-family:"Georgia";font-weight:700}.c5{font-weight:400;font-family:"Courier New"}.c32{background-color:#ffffff;font-size:12pt}.c4{color:inherit;text-decoration:inherit}.c36{padding:0;margin:0}.c20{background-color:#d9d9d9}.c23{height:0pt}.c15{height:24pt}.c16{height:11pt}.c42{height:36pt}.c39{color:#252525}.c24{font-style:italic}.c40{color:#999999}.c51{height:16pt}.c22{color:#1155cc}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c44"><p class="c37 title" id="h.oed1vh8z2z29"><span class="c49">WebSocket Monitor</span></p><h1 class="c14" id="h.pnnekawclfzj"><span class="c28">Abstract</span></h1><p class="c12"><span class="c2">Firefox DevTools offers good tooling for monitoring HTTP traffic between the current page and the server. Existing Network panel allows intercepting and inspecting all data transferred over the wire including headers, posted data, responses, detailed timings, etc. Unfortunately, Firefox DevTools doesn&rsquo;t offer any way how to inspect WebSocket communication.</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">This project aims at providing support for WebSocket monitoring and inspection in Firefox DevTools. The feature should be built on top of the existing Network panel UI and responsible for visualizing data sent through WebSocket connection (i.e. WS frames). The user should be able to use the UI to see as well as analyse the data (search, filter, etc.).</span></p><p class="c12 c16"><span class="c2"></span></p><h1 class="c14" id="h.pcbglw2jouzm"><span class="c28">Personal Details</span></h1><ul class="c36 lst-kix_tppk9gsabc8x-0 start"><li class="c19"><span class="c29">Name: Wenqing Luo</span></li><li class="c19"><span class="c32 c39">Email: </span><span class="c22 c32"><a class="c4" href="mailto:wenqing4@illinois.edu">wenqing4</a></span><span class="c32 c22"><a class="c4" href="mailto:wenqing4@illinois.edu">@illinois.edu</a></span></li><li class="c19"><span class="c29">IRC nick: Laphets</span></li><li class="c19"><span class="c29">Country of residence: China/U.S.</span></li><li class="c19"><span class="c29">Timezone: GMT+8</span></li><li class="c19"><span class="c32 c39">Primary language: Chinese</span></li></ul><p class="c12 c16"><span class="c2"></span></p><h1 class="c14" id="h.mvjarco08mcy"><span class="c28">Project Proposal</span></h1><p class="c12"><span class="c2">Will implement the following features:</span></p><ul class="c36 lst-kix_98u3arqtu2p7-0 start"><li class="c7"><span class="c2">WS Frame visualization</span></li><li class="c7"><span class="c2">WS Frame Filtering</span></li><li class="c7"><span class="c2">Summary (stats) data</span></li><li class="c7"><span class="c2">Themes</span></li><li class="c7"><span class="c2">Table and List Perspectives(For socket.IO may should be chat)</span></li><li class="c7"><span class="c2">Inline payload Preview</span></li><li class="c7"><span class="c2">Pause/resume Monitoring</span></li><li class="c7"><span class="c2">Clear all frames</span></li><li class="c7"><span class="c2">Support for popular protocols</span></li></ul><p class="c12 c16"><span class="c2"></span></p><h2 class="c34" id="h.dutrqpkcmig7"><span class="c27">Architecture</span></h2><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 822.50px; height: 483.52px;"><img alt="" src="images/image1.png" style="width: 822.50px; height: 483.52px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c25" id="h.otqscwx9sc"><span class="c43">Backend</span></h3><h4 class="c33" id="h.tqx5ze1z8bi2"><span class="c47">WebsocketListener</span></h4><p class="c12"><span>First, we need a listener for websocket event. Therefore, we will utilize </span><span class="c5 c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/netwerk/protocol/websocket/nsIWebSocketEventService.idl&amp;sa=D&amp;ust=1553960014198000">nsIWebSocketEventService</a></span><span>&nbsp;to watch the websocket event. From the </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/netwerk/protocol/websocket/nsIWebSocketEventService.idl%2374&amp;sa=D&amp;ust=1553960014198000">interface definition</a></span><span>, we can see that it needs two parameters: </span><span class="c5">aInnerWindowID</span><span>&nbsp;and </span><span class="c5">alistener</span><span>&nbsp;to add a listener to the event service, where </span><span class="c5 c24">aInnerWindowID</span><span>&nbsp;is the id of current inner window we want listen websocket event on, and </span><span class="c5 c24">alistener</span><span class="c2">&nbsp;is function called when a new websocket event is raised. </span></p><p class="c12"><span>We will manage all the websocket listeners in one single file, let&rsquo;s call it </span><span class="c5">websocket-listener.js</span><span>&nbsp;at this </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/server/actors/network-monitor&amp;sa=D&amp;ust=1553960014199000">folder</a></span><span>. In this file, we will define a class </span><span class="c5">WebSocketListener</span><span>&nbsp;whose constructor accepts two arguments: </span><span class="c5">filters</span><span>&nbsp;and </span><span class="c5">netmonitors</span><span>. </span><span>Filters</span><span>&nbsp;contains a </span><span class="c5 c24">window</span><span>&nbsp;object where the </span><span>webconsole</span><span>&nbsp;is running on so that we can get </span><span class="c5 c24">aInnerWindowID</span><span>&nbsp;by simply</span><span class="c5">&nbsp;</span><span class="c5 c24">filters.window.top.windowUtils.currentInnerWindowID</span><span>. As for </span><span class="c5 c24">netmonitors</span><span class="c2">, it a list of netmonitor message managers so that we can send websocket event messages to the netmonitor actors. </span></p><p class="c12"><span>Then for the listeners, we will define the following listeners: </span><span class="c24">webSocketCreated</span><span>, </span><span class="c24">webSocketOpened</span><span>, </span><span class="c24">webSocketMessageAvailable</span><span>, </span><span class="c24">webSocketClosed</span><span>, </span><span class="c24">frameReceived</span><span>&nbsp;and </span><span class="c24">frameSent</span><span>. When a new event is coming, we loop for netmonitor list, and use </span><span class="c5">messageManger</span><span class="c5">.</span><span class="c5">sendAsyncMesage</span><span class="c5">(topic=&ldquo;debug:websocket-event&rdquo;, data:{eventtype, data})</span><span class="c2">&nbsp;to send messages to the listener initialized in netmonitor actor.</span></p><p class="c12"><span>Finally, to initialize our websocket-listener, we call its constructor in </span><span class="c5">startListeners</span><span>&nbsp;of </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/server/actors/webconsole.js%23626&amp;sa=D&amp;ust=1553960014202000">webconsole</a></span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/server/actors/webconsole.js%23626&amp;sa=D&amp;ust=1553960014203000">.js</a></span><span class="c2">, just after the netmonitor is created.</span></p><h4 class="c33" id="h.3hr9jgdrnzic"><span>Netmonitor Actor</span></h4><p class="c12"><span>Then, we need add the message listener for netmonitor actor so that it can get message from the websocketlistener defined before. Just add it in startListening function in </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/server/actors/network-monitor.js&amp;sa=D&amp;ust=1553960014204000">network-monitor.js</a></span><span>, </span><span class="c5">this.messageManager.addMessageListener(&ldquo;debug:websocket-event&rdquo;, this.</span><span class="c5">onWebsocketEvent</span><span class="c5">).</span><span>And in </span><span>onWebsocketEvent</span><span class="c2">&nbsp;listener, we will get the event data from websocketListener, after that, we just use emit this event to the front-end by RDP. this.emit(&ldquo;websocket-event-update&rdquo;, type, data)</span></p><p class="c12"><span>Another thing I want to mention is that, we should specify our event details of </span><span>networkMonitor</span><span>&nbsp;in </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/shared/specs/network-monitor.js&amp;sa=D&amp;ust=1553960014205000">network-monitor.js</a></span><span class="c2">, for example:</span></p><p class="c12"><span class="c0">&ldquo;websocket-event:frame-sent&rdquo; : {</span></p><p class="c12"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type: &ldquo;</span><span class="c5">websocketEvent</span><span class="c0">&rdquo;,</span></p><p class="c12"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eventType: Arg(0, &ldquo;string&rdquo;);</span></p><p class="c12"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data: ...</span></p><p class="c12"><span class="c0">}</span></p><p class="c12 c16"><span class="c2"></span></p><h3 class="c25" id="h.ru70nwn5jj3k"><span class="c43">Frontend</span></h3><h4 class="c33" id="h.my30oj7379h6"><span>Connector</span></h4><p class="c12"><span>To get the event by backend, we need focus on </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/client/netmonitor/src/connector&amp;sa=D&amp;ust=1553960014207000">connector</a></span><span>. First in </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/client/netmonitor/src/connector/firefox-connector.js&amp;sa=D&amp;ust=1553960014208000">firefox-connector.js</a></span><span>, we will add a </span><span>websocketEvent</span><span>&nbsp;listener for messages from backend, like </span><span class="c5">this.dataProvider.on(&ldquo;</span><span class="c5">websocketEvent</span><span class="c5">&rdquo;, this.dataProvider.</span><span class="c5">onWebsocketEvent</span><span class="c5">)</span><span>. And in the corresponding </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/client/netmonitor/src/connector/firefox-data-provider.js&amp;sa=D&amp;ust=1553960014209000">data provider</a></span><span>, we define our function </span><span class="c5">onWebsocketEvent</span><span>, and call redux actions by </span><span class="c0">this.action[method].</span></p><h4 class="c33" id="h.jqu95ztnhok7"><span class="c47">Redux</span></h4><p class="c12"><span>We will add our new websocket action and reducer files in </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/client/netmonitor/src/actions&amp;sa=D&amp;ust=1553960014210000">actions folder</a></span><span>&nbsp;and </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/client/netmonitor/src/reducers&amp;sa=D&amp;ust=1553960014210000">reducers folder</a></span><span class="c2">.I will list all the support actions and store in the following two tables:</span></p><h5 class="c10" id="h.grv2hv7pj40u"><span class="c9">Action Design</span></h5><a id="t.ba027ebc789b8889719cbe400be7939c883d29a4"></a><a id="t.0"></a><table class="c41"><tbody><tr class="c23"><td class="c13 c20" colspan="1" rowspan="1"><p class="c3"><span class="c30">Action Type</span></p></td><td class="c6 c20" colspan="1" rowspan="1"><p class="c3"><span class="c30">Description</span></p></td><td class="c8 c20" colspan="1" rowspan="1"><p class="c3"><span class="c30">Notes</span></p></td></tr><tr class="c23"><td class="c13" colspan="1" rowspan="1"><p class="c3"><span class="c2">ADD_FRAME</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c3"><span class="c2">Add a frame to frame list</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c3 c16"><span class="c2"></span></p></td></tr><tr class="c23"><td class="c13" colspan="1" rowspan="1"><p class="c3"><span class="c2">ADD_FRAMES</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c3"><span class="c2">Add a patch of frames to frame list</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c3 c16"><span class="c2"></span></p></td></tr><tr class="c23"><td class="c13" colspan="1" rowspan="1"><p class="c3"><span class="c2">FILTER_FRAMES</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c3"><span class="c2">Filter frame out by text</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c3"><span class="c2">Called when user input some filter condition</span></p></td></tr><tr class="c23"><td class="c13" colspan="1" rowspan="1"><p class="c3"><span class="c2">CLEAR</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c3"><span class="c2">Clear frames of corresponding request</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c3"><span class="c2">Called when user click the &ldquo;clear&rdquo; button</span></p></td></tr><tr class="c23"><td class="c13" colspan="1" rowspan="1"><p class="c3"><span class="c2">SELECT_FRAME</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c3"><span class="c2">Select a frame and show its details</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c3"><span class="c2">Called when user click a frame to see the detail.</span></p></td></tr><tr class="c23"><td class="c13" colspan="1" rowspan="1"><p class="c3"><span class="c2">SELECT_TARGET_FRAME</span></p></td><td class="c6" colspan="1" rowspan="1"><p class="c3"><span class="c2">Select the target frame with the relative distance from current selected frame.</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c3"><span class="c2">Used for some keyboard events, for example: arrowup, arrowdown, home, end.</span></p><p class="c3"><span>It accepts an argument </span><span class="c5">delta</span><span>, which represents the relative distance from current selected frame. For example, </span><span class="c5">arrowup</span><span class="c0">=&gt;-1, Home=&gt;-infinity, End=&gt;infinity</span></p></td></tr></tbody></table><h5 class="c10" id="h.tsifmhg8rqsh"><span class="c9">Store Design</span></h5><a id="t.610469125bc4af7c9c66b400e2d74c34806e6ac0"></a><a id="t.1"></a><table class="c41"><tbody><tr class="c23"><td class="c17 c20" colspan="1" rowspan="1"><p class="c3"><span class="c30">Name</span></p></td><td class="c38 c20" colspan="1" rowspan="1"><p class="c3"><span class="c30">Type</span></p></td><td class="c1 c20" colspan="1" rowspan="1"><p class="c3"><span class="c30">Description</span></p></td></tr><tr class="c23"><td class="c17" colspan="1" rowspan="1"><p class="c3"><span class="c2">frames</span></p></td><td class="c38" colspan="1" rowspan="1"><p class="c3"><span class="c2">Array&lt;frame&gt;</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c3"><span class="c2">The original frame list</span></p></td></tr><tr class="c23"><td class="c17" colspan="1" rowspan="1"><p class="c3"><span class="c2">connections </span></p></td><td class="c38" colspan="1" rowspan="1"><p class="c3"><span class="c2">Array&lt;connection&gt;</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c3"><span class="c2">Store websocket connection, maintain the map from requestID to websocketSerialID</span></p></td></tr><tr class="c23"><td class="c17" colspan="1" rowspan="1"><p class="c3"><span class="c2">section</span></p></td><td class="c38" colspan="1" rowspan="1"><p class="c3"><span class="c2">frame</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c3"><span class="c2">Current selected frame </span></p></td></tr><tr class="c23"><td class="c17" colspan="1" rowspan="1"><p class="c3"><span class="c2">filter</span></p></td><td class="c38" colspan="1" rowspan="1"><p class="c3"><span class="c2">text/frames/summary</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c3"><span class="c2">Will maintain the filtered frames and related summary in the frames list.</span></p></td></tr><tr class="c23"><td class="c17" colspan="1" rowspan="1"><p class="c3"><span class="c2">summary</span></p></td><td class="c38" colspan="1" rowspan="1"><p class="c12"><span class="c2">totalSize, startTime, endTime, frameCount, connectionCount</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c3"><span class="c2">Summary (stats) data</span></p></td></tr></tbody></table><p class="c12 c16"><span class="c2"></span></p><h2 class="c34" id="h.ktvqu0djswii"><span class="c27">Theme</span></h2><p class="c12"><span>Will use CSS variables defined in </span><span class="c22"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/devtools/client/themes/variables.css&amp;sa=D&amp;ust=1553960014225000">variable.css</a></span><span>&nbsp;to support both light and dark theme.</span></p><h2 class="c34" id="h.5zj49w1774rv"><span>User Actions</span></h2><ul class="c36 lst-kix_8x2c3ym1uq0t-0 start"><li class="c7"><span class="c2">Clear</span></li><li class="c7"><span class="c2">Pause/Start =&gt; removeListener|addListener</span></li><li class="c7"><span class="c2">Filter</span></li><li class="c7"><span class="c2">Summary</span></li></ul><p class="c12 c16"><span class="c2"></span></p><h2 class="c34" id="h.f6mdv6jtjxqf"><span class="c27">Component Composite</span></h2><p class="c12"><span class="c2">Will show the component tree as follows:</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">(Add figure here)</span></p><p class="c12"><span class="c2">&#36825;&#20010;&#30340;&#35805;&#32473;&#19968;&#24352;&#22270;&#65292;&#24182;&#19988;&#35828;&#26126;&#38656;&#35201;&#21738;&#20123;&#32452;&#20214;</span></p><p class="c12"><span class="c2">&#21442;&#29031;&#21407;&#26469;&#30340;</span></p><p class="c12"><span class="c2">Detail+Payload</span></p><p class="c12"><span class="c2">&#26368;&#22806;&#23618;&#26159;&#19968;&#20010;tabpanel=&gt;websocketpanel=&gt;{</span></p><p class="c12"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framelist</span></p><p class="c12"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebSocketDetailPanel</span></p><p class="c12"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProperitieView/ChatView</span></p><p class="c12"><span class="c2">}</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12 c16"><span class="c2"></span></p><h2 class="c34" id="h.3tqs30ihxt41"><span>P</span><span class="c27">opular Protocols Support</span></h2><p class="c12"><span class="c2">We need provide parser for some popular protocols built on WebSocket.</span></p><p class="c12"><span class="c2">Since when one </span></p><p class="c12"><span class="c2">&#36825;&#20010;&#30740;&#31350;&#19968;&#19979;&#21407;&#26469;&#30340;&#20195;&#30721;&#65292;&#30475;&#30475;&#35299;&#30721;&#26426;&#21046;</span></p><p class="c12"><span class="c2">&#20960;&#20010;&#35201;&#28857;&#65306;&#22914;&#20309;&#35782;&#21035;&#26159;&#25351;&#23450;&#30340;&#19968;&#20010;protocol</span></p><h2 class="c34" id="h.4xyrnmt25cwt"><span class="c27">Config Support</span></h2><p class="c12"><span class="c2">We need to provide users with some config</span></p><h2 class="c34 c51" id="h.7oam29tnae"><span class="c27"></span></h2><h2 class="c34" id="h.2r86p93aq9ne"><span class="c27">Tests</span></h2><p class="c12"><span>First, we need a test server</span></p><p class="c12"><span class="c2">&#20851;&#20110;&#22914;&#20309;&#23454;&#29616;&#19968;&#20010;websocket&#30340;test server&#65292;&#20301;&#20110;mocha.test:8888&#36825;&#20010;&#31471;&#21475;&#19978;&#38754;</span></p><p class="c12 c16"><span class="c2"></span></p><h2 class="c34" id="h.medr9bqoakve"><span class="c27">Pitfall</span></h2><p class="c12"><span>Since the nsIWebSocketEventService only provides us </span><span class="c5 c24">WebSocketSerialID</span><span>&nbsp;for a certain event, which makes it hard to build up the relationship with the corresponding upgrade request, so we may need some API to support this mapping.</span></p><p class="c12 c16"><span class="c2"></span></p><h1 class="c14" id="h.815vda3duk6q"><span class="c28">Schedule of Deliverables</span></h1><a id="t.1c004ca37d58c9fe4edab3cdbb7b873f694a70f4"></a><a id="t.2"></a><table class="c41"><tbody><tr class="c42"><td class="c20 c50" colspan="1" rowspan="1"><p class="c45"><span class="c30">Date</span></p></td><td class="c20 c53" colspan="1" rowspan="1"><p class="c45"><span class="c30">Task</span></p></td><td class="c20 c31" colspan="1" rowspan="1"><p class="c52"><span class="c30">Notes</span></p></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #1</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Analysis</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Learning the Network panel as well as the original WebSocket Monitor extension code base.</span></p></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #2-3</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Infrastructure</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Implementing basic infrastructure</span></p><ul class="c36 lst-kix_i27pxxsoyap5-0 start"><li class="c7"><span class="c2">new side panel</span></li><li class="c7"><span class="c2">react/redux</span></li><li class="c7"><span class="c2">List of frames</span></li></ul></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #4-5</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">User Actions</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Implementing user actions:</span></p><ul class="c36 lst-kix_2zq1lyrqpejn-0 start"><li class="c7"><span class="c2">Clear</span></li><li class="c7"><span class="c2">Pause</span></li><li class="c7"><span class="c2">Filter</span></li><li class="c7"><span class="c2">Summary</span></li></ul></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #6-7</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Payload</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Payload</span></p><ul class="c36 lst-kix_apt17kcnc2em-0 start"><li class="c7"><span class="c2">View</span></li><li class="c7"><span class="c2">Inline Preview</span></li></ul></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #8-9</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Protocols</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Support for existing protocols (Socket.IO, SockJS, JSON, WAMP, MQTT)</span></p></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #10-11</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Bug Fixing</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Bug fixing</span></p></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #12-13</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Tests</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Implementing automated tests (mochitests)</span></p></td></tr><tr class="c15"><td class="c18" colspan="1" rowspan="1"><p class="c12"><span class="c2">Week #14</span></p></td><td class="c48" colspan="1" rowspan="1"><p class="c12"><span class="c2">Final</span></p></td><td class="c31" colspan="1" rowspan="1"><p class="c12"><span class="c2">Final documentation, blog post on hacks.mozilla.com, polish code clean up</span></p></td></tr></tbody></table><p class="c12 c16"><span class="c2"></span></p><p class="c12 c16"><span class="c2"></span></p><h1 class="c14" id="h.vngazw8by214"><span class="c28">Open Source Development Experience</span></h1><p class="c12"><span class="c2">Later last year, I participated in development of the open source project &ndash; vscode, help the team fix several bugs including git module and search widget. This experience brought me a strong interest in contributing for open source. And recently, I joined the Mozilla Developer community, fixing bugs for FireFox Devtool, which is challenging and also interesting.</span></p><p class="c12"><span>The followings are bugs which I have already fixed:</span></p><ul class="c36 lst-kix_k1xfgv377ff7-0 start"><li class="c21"><span class="c26 c22"><a class="c4" href="https://www.google.com/url?q=https://bugzilla.mozilla.org/show_bug.cgi?id%3D1457379&amp;sa=D&amp;ust=1553960014244000">#1457379</a></span><span class="c26">,</span><span class="c35">&nbsp;Fix webSockets show only under &#39;other&#39; filter and add tests </span><span class="c35 c40"><a class="c4" href="https://www.google.com/url?q=https://phabricator.services.mozilla.com/D23322&amp;sa=D&amp;ust=1553960014244000">D23322</a></span></li><li class="c21"><span class="c26 c22"><a class="c4" href="https://www.google.com/url?q=https://bugzilla.mozilla.org/show_bug.cgi?id%3D1446018&amp;sa=D&amp;ust=1553960014245000">#1446018</a></span><span class="c26">,</span><span class="c35">&nbsp;Set HAR log version to 1.2. </span><span class="c35 c40"><a class="c4" href="https://www.google.com/url?q=https://phabricator.services.mozilla.com/D21955&amp;sa=D&amp;ust=1553960014245000">D21955</a></span></li><li class="c21"><span class="c26 c22"><a class="c4" href="https://www.google.com/url?q=https://bugzilla.mozilla.org/show_bug.cgi?id%3D1443089&amp;sa=D&amp;ust=1553960014246000">#1443089</a></span><span class="c26">,</span><span class="c35">&nbsp;Better UI/UX for empty response panel. </span><span class="c35 c40"><a class="c4" href="https://www.google.com/url?q=https://phabricator.services.mozilla.com/D21838&amp;sa=D&amp;ust=1553960014246000">D21838</a></span></li><li class="c21"><span class="c26 c22"><a class="c4" href="https://www.google.com/url?q=https://bugzilla.mozilla.org/show_bug.cgi?id%3D1442249&amp;sa=D&amp;ust=1553960014246000">#1442249</a></span><span class="c26">,</span><span class="c35">&nbsp;Add Copy context menu to Properties View. </span><span class="c35 c40"><a class="c4" href="https://www.google.com/url?q=https://phabricator.services.mozilla.com/D23770&amp;sa=D&amp;ust=1553960014247000">D23770</a></span></li></ul><p class="c12 c16"><span class="c2"></span></p><h1 class="c14" id="h.hway0hx076d8"><span class="c28">Work/Internship Experience</span></h1><p class="c12"><span class="c2">I have summer intern in a setup company last year doing front-end stuffs. During that time, I use many front-end stuffs like react and electron to build a manage system.</span></p><p class="c12 c16"><span class="c2"></span></p><h1 class="c14" id="h.5ersi7e7zvt0"><span class="c28">Academic Experience</span></h1><p class="c12"><span class="c2">I am currently a second-year student pursuing a BS degree of Computer Engineering at University of Illinois at Urbana-Champaign (UIUC).</span></p><h1 class="c14" id="h.lhu77dnyjoy4"><span class="c28">Why Me</span></h1><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">I love open source.</span></p><h1 class="c14" id="h.ce7m2l2iyb3j"><span class="c28">Why Mozilla</span></h1><p class="c12"><span class="c2">//(I used to learn web technology at MDN frequently, this project is very useful for data //visualization and I am really want to implement it myself. I also think Mozilla is a great and //friendly organization, I would be very honored if I can contribute to it.)</span></p><p class="c12"><span class="c2">//(When the first time I come to Mozilla open source community, I feel nervous and unconfident //about myself. But people here kept encouraging me and helping me commit patches one by //one. I appreciate every &#39;Hello&#39; on the irc and the comments on the github or bugzilla. It really //means alot to me.After learning and working on here for a long time, I think I&rsquo;m familiar enough //with the work flow in A-team and how ask for help from mentor. Therefore, I choose Mozilla as //the organization for Google summer of Code 2019.)</span></p><hr style="page-break-before:always;display:none;"><p class="c12 c16"><span class="c2"></span></p><p class="c12 c16"><span class="c2"></span></p><h2 class="c34 c51" id="h.c7flx1s9yea8"><span class="c27"></span></h2><h2 class="c34" id="h.krqbgit33f3x"><span class="c27">WS Frame</span></h2><p class="c12"><span>First get `</span><span>nsIWebSocketEventService</span><span class="c2">`, then use this service to add listener which has interface of `nsIWebSocketEventListener` </span></p><p class="c12"><span class="c2">Get data from `nsIWebSocketFrame`</span></p><p class="c12"><span class="c2">Whether to take the listener up, there are two ways:</span></p><ol class="c36 lst-kix_4pmmh3coxpv3-0 start" start="1"><li class="c7"><span class="c2">For each websocket add a listener, which I think is not proper</span></li><li class="c7"><span class="c2">Only one listener on the top level</span></li></ol><p class="c12"><span class="c2">Then it comes where to put/init the listener? </span></p><p class="c12"><span class="c2">Create a factory for websocket listener</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">&#21487;&#20197;&#20998;&#25104;front&#21644;backend&#20004;&#20010;&#37096;&#20998;</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">&#26032;&#30340;&#36827;&#23637;</span></p><p class="c12"><span class="c2">&#22312;network-observer &#36825;&#20010;actor &nbsp; &nbsp; &nbsp; &#37324;&#38754;&#21152;&#30417;&#21548;&#65292;&#21487;&#20197;&#20174;filter&#37324;&#38754;&#25343;&#21040;&#30417;&#21548;&#65292;&#28982;&#21518;emit&#20986;&#21435;=&gt; &#22914;&#20309;&#23454;&#29616;&#36825;&#20010;emit</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">&#37027;&#20040;&#38382;&#39064;&#26469;&#20102;&#65292;&#22914;&#20309;&#25226;&#36825;&#20010;socket&#30340;aWebSocketSerialID&#21644;&#36825;&#20010;request&#32465;&#23450;</span></p><p class="c12"><span class="c2">&#24819;&#27861;&#65306;&#32500;&#25252;&#19968;&#20010;map?</span></p><p class="c12"><span class="c2">&#20294;&#22914;&#20309;&#19982;original request&#24314;&#31435;&#32852;&#31995;&#65292;&#36825;&#26159;&#19968;&#20010;&#38656;&#35201;&#24605;&#32771;&#30340;&#38382;&#39064;</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">See the document, we can find that when it opens a websocket request, the basckend only returns websocketid windowid and url, and no other info</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span class="c2">If we have init the listener, how to pass the data =&gt; I think the connection should be done in this part, how to pass data to the front-end</span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12 c16"><span class="c2"></span></p><p class="c12"><span>The key point here is `</span><span class="c46"><a class="c4" href="https://www.google.com/url?q=https://searchfox.org/mozilla-central/source/netwerk/protocol/websocket/WebSocketEventService.h&amp;sa=D&amp;ust=1553960014253000">WebSocketEvent</a></span><span class="c2">` </span></p><p class="c12"><span class="c2">&#22312;&#21738;/&#20309;&#26102; init&#36825;&#20010;listener</span></p><p class="c12"><span class="c2">&#24212;&#35813;&#26159;&#25171;&#24320;devtool&#30340;&#26102;&#20505;init &#36825;&#26102;&#20505;&#24212;&#35813;&#26377;win&#21487;&#20197;&#25343;&#21040;&#20102;&#32771;&#34385;&#21516;&#26102;init</span></p><p class="c12"><span class="c2">&#22312;&#21738;&#20010;&#22320;&#26041;init&#65292;&#22914;&#20309;&#22238;&#35843; =&gt; &#21487;&#33021;&#38656;&#35201;&#30740;&#31350;&#19968;&#19979;&#29616;&#26377;&#30340;request&#22238;&#35843;&#26426;&#21046;</span></p><p class="c12"><span class="c2">&#36825;&#19968;&#37096;&#20998;&#36824;&#25402;&#20851;&#38190;</span></p><p class="c12 c16"><span class="c2"></span></p></body></html>